<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>react04-state</title>
</head>
<body>
    <div id="test"></div>

    <script src="https://cdn.staticfile.org/react/16.4.0/umd/react.development.js"></script>
    <script src="https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js"></script>

    <script type="text/babel">
        // 天气类组件
        class Weather extends React.Component {
            // 通过构造器赋值state
            constructor(props) {
                super(props)
                this.state = {isHot: false}
                // 通过bind获取原型链上的this指向，并创建一个this到该方法的原型上
                this.Change = this.Change.bind(this)
            }
            // 返回虚拟dom
            render() {
                const {isHot} = this.state
                // 通过onClick单击事件执行Click方法，注意：不要带括号()
                return <h2 id="title" onClick={this.Change}>今天天气很{isHot ? '热' : '冷'}</h2>
            }
            // 改变状态的方法
            Change() {
                const isHot = this.state.isHot
                // 需要通过父类内置的方法来设置state状态值
                this.setState({isHot: !isHot})
                console.log(this.state.isHot)

                // 错误写法，不能直接修改状态值
                // this.state.isHot = !isHot
            }
        }
        // 将类组件渲染到页面上
        ReactDOM.render(<Weather/>, document.getElementById('test'))

        // 绑定单击事件，方法1
        // const title = document.getElementById("title")
        // title.addEventListener('click', () => {
        //     console.log('我被点击啦...')
        // })
        
        // 绑定单击事件，方法2
        // title.onclick = () => {
        //     console.log('我被点击啦...')
        // }

        // 绑定单击事件，方法3（推荐写法，不用获取id节点）
        // function Click() {
        //     console.log('我被点击啦...')
        // }
    </script>
</body>
</html>